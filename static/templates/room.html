<div class="now-playing">
    <div class="now-playing-artist">{{current_track.artist}}</div>
    <div class="now-playing-track">{{current_track.title}}</div>
</div>

<div class="stage">
    <div class="dj dj-{{dj.active}} local-{{dj.isLocal}}" ng-repeat="dj in djs">
        {{dj.name}}
    </div>
    <div class="become-dj" ng-click="becomeDJ()">{{getJoinText()}}</div>
</div>

<div class="audience">
	<div class="listener local-{{listener.isLocal}}" ng-repeat="listener in users | filter:isAudience">
        <img src="//www.gravatar.com/avatar/{{listener.generateGravatarHash()}}?s=80&r=any&default=monsterid&forcedefault=1" />
        <div class="name">{{listener.name}}</div>
    </div>
</div>

<div class="sidebar">
    <div class="tabs">
        <div class="tab tab-{{currentTab == 'music'}}" ng-click="switchTab('music')">music</div>
        <div class="tab tab-{{currentTab == 'chat'}}" ng-click="switchTab('chat')">chat</div>
    </div>

    <div class="sidebar-content">
        <div class="chat" ng-show="currentTab == 'chat'">
            <div class="messages" id="messages" auto-scroll="chat_messages">
                <div class="no_messages" ng-hide="chat_messages.length">
                    Say something about stuff
                </div>
                <div class="message" ng-repeat="message in chat_messages">
                    <div class="author">{{message.from.name}}</div>
                    <div class="text">{{message.text}}</div>
                </div>
            </div>
            <form ng-submit="newMessage()">
                <input class="new_message" placeholder="send a message" type="text" ng-model="message_text" />
            </form>
        </div>
        <div class="music" ng-show="currentTab == 'music'">
            <div class="upload">
                <input type="file" name="upfile" />
            </div>
        </div>
    </div>
</div>

